{"version":3,"file":"index.js","sources":["../src/components/Header.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/Body.js","../src/up.png","../src/components/SeeMore.js","../src/components/Story.js","../src/components/ProgressWrapper.js","../src/components/Progress.js","../src/components/ProgressArray.js","../src/components/Container.js","../src/index.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Header = ({ image, authorName, timeago }) =>\n  <div style={styles.main}>\n    {image && <div style={{...styles.img, backgroundImage: `url(${image})`}} />}\n    <span style={styles.text}>\n      <p style={styles.authorName}>{authorName}</p>\n      <p style={styles.timeago}>{timeago}</p>\n    </span>\n  </div>\n\nconst styles = {\n  main: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  img: {\n    width: 50,\n    height: 50,\n    minHeight: 'auto',\n    borderRadius: 50,\n    marginRight: 10,\n    filter: 'drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))',\n    border: '2px solid rgba(255, 255, 255, 0.8)',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center'\n  },\n  text: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  authorName: {\n    fontSize: '1.2rem',\n    fontFamily: `\"Abril Titling Bold\", \"Book Antiqua\", Palatino, \"Palatino Linotype\", \"Palatino LT STD\", Georgia, serif`,\n    color: 'rgba(255, 255, 255, 0.9)'\n  },\n  timeago: {\n    fontSize: '0.9rem',\n    color: 'rgba(255, 255, 255, 0.9)'\n  }\n}\n\nHeader.propTypes = {\n  heading: PropTypes.string,\n  subheading: PropTypes.string,\n  profileImage: PropTypes.string\n}\n\nexport default Header\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport globalStyle from './../styles.css'\n\nconst Body = ({ profileImage, heading, subheading }) =>\n  <div style={styles.main}>\n    <span style={styles.text}>\n      <p className={globalStyle.bodyHeading}>{heading}</p>\n      <p className={globalStyle.bodySubheading}>{subheading}</p>\n      <div style={{...styles.readMore}}>\n        <div style={{...styles.blank}}>&nbsp;</div>\n        <a href='https://www.smh.com.au/opinion/prepare-for-the-global-bananapocalypse-20171226-h0a2p2.html' style={{...styles.readMoreButton}}>\n          READ ARTICLE\n        </a>\n        <div style={{...styles.blank}}>&nbsp;</div>\n      </div>\n    </span>\n  </div>\n\nconst styles = {\n  main: {\n    display: 'flex'\n  },\n  img: {\n    width: 60,\n    height: 60,\n    minHeight: 'auto',\n    borderRadius: 60,\n    marginRight: 10,\n    filter: 'drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))',\n    border: '2px solid rgba(255, 255, 255, 0.8)',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center'\n  },\n  text: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: 20\n  },\n  blank: {\n    width: 50\n  },\n  readMore: {\n    display: 'flex',\n    marginTop: '2rem'\n  },\n  readMoreButton: {\n    position: 'relative',\n    backgroundColor: '#0089f6',\n    borderRadius: '4px',\n    top: 'auto',\n    right: 'auto',\n    flexGrow: 1,\n    color: 'white',\n    padding: '10px',\n    textAlign: 'center'\n  }\n}\n\nBody.propTypes = {\n  heading: PropTypes.string,\n  subheading: PropTypes.string,\n  profileImage: PropTypes.string\n}\n\nexport default Body\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './../styles.css'\nimport up from './../up.png'\n\nexport default function seeMore(props) {\n  const { showContent, seeMoreContent, toggleMore, action } = props\n  return (\n    showContent\n      ? (\n        <div className={style.seeMoreExpanded}>\n          {seeMoreContent}\n          <div onClick={() => {\n            toggleMore(false)\n            action('play')\n          }} className={style.seeMoreClose}><span>✕</span></div>\n        </div>\n      )\n      : (\n        <div onClick={() => {\n          toggleMore(true)\n          action('pause')\n        }} className={style.seeMore}>\n          <span className={style.seemoreIcon}><img src={up} /></span>\n          <span className={style.seemoreText}>Read more</span>\n        </div>\n      )\n  )\n}\n\nseeMore.propTypes = {\n  seeMoreContent: PropTypes.object,\n  showContent: PropTypes.bool,\n  action: PropTypes.func,\n  toggleMore: PropTypes.func\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Header from './Header'\nimport Body from './Body'\nimport SeeMore from './SeeMore'\nimport globalStyle from './../styles.css'\n\nexport default class Story extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loaded: false\n    }\n    this.getStoryContent = this.getStoryContent.bind(this)\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.story !== prevProps.story) {\n      this.pauseId && clearTimeout(this.pauseId)\n      this.pauseId = setTimeout(() => {\n        this.setState({loaded: false})\n      }, 300)\n      this.props.action('pause', true)\n      this.vid && this.vid.addEventListener('waiting', () => {\n        this.props.action('pause', true)\n      })\n      this.vid && this.vid.addEventListener('playing', () => {\n        this.props.action('play', true)\n      })\n    }\n    if (this.vid && (this.props.playState !== prevProps.playState) && !this.props.bufferAction) {\n      if (this.props.playState) {\n        this.vid.pause()\n      } else {\n        this.vid.play().catch(e => console.log(e))\n      }\n    }\n  }\n  toggleMore = show => {\n    this.setState({ showMore: show })\n  }\n  imageLoaded = () => {\n    try {\n      if (this.pauseId) clearTimeout(this.pauseId)\n      this.setState({loaded: true})\n      this.props.action('play', true)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  videoLoaded = () => {\n    try {\n      this.props.getVideoDuration(this.vid.duration)\n      this.vid && this.vid.play().then(() => {\n        this.imageLoaded()\n      }).catch(e => {\n        this.props.action('pause')\n        console.log(e)\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  getStoryContent() {\n    let source = typeof this.props.story === 'object' ? this.props.story.url : this.props.story\n    let storyContentStyles = this.props.story.styles || this.props.storyContentStyles || styles.storyContent\n    let type = this.props.story.type === 'video' ? 'video' : 'image'\n    if (type === 'image') {\n      return (<div style={{\n        ...storyContentStyles,\n        width: '100%',\n        height: '100%',\n        backgroundImage: `url(${source})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center center'\n      }}>\n        <img\n          style={{display: 'none'}}\n          src={source}\n          onLoad={this.imageLoaded}\n        />\n      </div>\n      )\n    }\n    return (type === 'video' ? <video ref={r => { this.vid = r }} style={storyContentStyles} src={source} controls={false} onLoadedData={this.videoLoaded} autoPlay playsInline /> : null)\n  }\n  render() {\n    // let isHeader = typeof this.props.story === 'object' && this.props.story.header\n    const { heading, subheading, authorName, timeago, profileImage } = this.props.story.header\n    const { action, height, width, story: { seeMore } } = this.props\n    return (\n      <div className={globalStyle.story} style={{...styles.story, maxWidth: width, maxHeight: height}}>\n        {this.getStoryContent()}\n        <div style={{...styles.header}}>\n          <Header authorName={authorName} timeago={timeago} image={profileImage} />\n        </div>\n        <div style={{...styles.body}}>\n          <Body heading={heading} subheading={subheading} />\n        </div>\n        {!this.state.loaded && (\n          <div style={{...styles.loading, width, height}}>\n            {this.props.loader || <div className={globalStyle.spinner}>🍌</div>}\n          </div>)\n        }\n        {/* {seeMore &&\n          <div style={{position: 'absolute', margin: 'auto', bottom: 0, zIndex: 9999, width: '100%'}}>\n            <SeeMore action={action} toggleMore={this.toggleMore} showContent={this.state.showMore} seeMoreContent={seeMore} />\n          </div>\n        } */}\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  story: {\n    display: 'flex',\n    position: 'relative',\n    overflow: 'hidden'\n  },\n  storyContent: {\n    width: 'auto',\n    maxWidth: '100%',\n    maxHeight: '100%',\n    margin: 'auto'\n  },\n  header: {\n    position: 'absolute',\n    paddingLeft: 20,\n    paddingRight: 20,\n    top: 40,\n    zIndex: 19\n  },\n  body: {\n    position: 'absolute',\n    paddingLeft: 10,\n    paddingRight: 10,\n    bottom: 20,\n    zIndex: 19\n  },\n  loading: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    background: 'rgba(0, 0, 0, 0.9)',\n    zIndex: 9,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: '#ccc'\n  }\n}\n\nStory.propTypes = {\n  story: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string\n  ]),\n  height: PropTypes.number,\n  width: PropTypes.number,\n  action: PropTypes.func,\n  loader: PropTypes.element,\n  header: PropTypes.element,\n  playState: PropTypes.bool,\n  getVideoDuration: PropTypes.func,\n  bufferAction: PropTypes.bool,\n  storyContentStyles: PropTypes.object\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './../styles.css'\n\nconst ProgressWrapper = (props) => (\n  <div className={style.autoHide} style={{ ...styles.progress, ...getProgressWrapperStyle(props) }}>\n    {props.children}\n  </div>\n)\n\nconst getProgressWrapperStyle = ({ width, pause, bufferAction }) => ({\n  width: `${width * 100}%`,\n  opacity: pause && !bufferAction ? 0 : 1\n})\n\nconst styles = {\n  progress: {\n    height: 3,\n    maxWidth: '100%',\n    background: '#555',\n    margin: 2\n  }\n}\n\nProgressWrapper.propTypes = {\n  children: PropTypes.node\n}\n\nexport default ProgressWrapper\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './../styles.css'\nimport ProgressWrapper from './ProgressWrapper'\n\nexport default class Progress extends React.PureComponent {\n  componentDidMount() {\n    if (this.inner) {\n      this.inner.addEventListener('webkitAnimationEnd', this.next, false)\n      this.inner.addEventListener('animationend', this.next, false)\n      this.inner.addEventListener('oanimationend', this.next, false)\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let current = props.currentStory\n    if (typeof current === 'object') {\n      if (current.type && props.videoDuration) return { duration: props.videoDuration * 1000 }\n      if (current.duration) return { duration: current.duration }\n      return { duration: props.defaultInterval }\n    } else {\n      return { duration: props.defaultInterval }\n    }\n  }\n\n  next = () => {\n    this.props.next()\n  }\n\n  render() {\n    const { width, pause, bufferAction, active } = this.props\n    return (\n      <ProgressWrapper width={width} pause={pause} bufferAction={bufferAction}>\n        <div\n          ref={r => { this.inner = r }}\n          className={style.inner}\n          style={getProgressStyle({ active, pause, duration: this.state.duration })} />\n      </ProgressWrapper>\n    )\n  }\n}\n\nconst animation = (duration) => `${duration}ms linear 0ms ${style.slidein}`\nconst animationPlayState = (pause) => pause ? 'paused' : 'running'\n\nconst getProgressStyle = ({ active, duration, pause }) => {\n  switch (active) {\n    case 2:\n      return { width: '100%' }\n    case 1:\n      return { animation: animation(duration), animationPlayState: animationPlayState(pause) }\n    case 0:\n      return { width: 0 }\n    default:\n      return { width: 0 }\n  }\n}\n\nProgress.propTypes = {\n  width: PropTypes.number,\n  defaultInterval: PropTypes.number,\n  pause: PropTypes.bool,\n  next: PropTypes.func,\n  active: PropTypes.number,\n  bufferAction: PropTypes.bool,\n  videoDuration: PropTypes.number,\n  currentStory: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n}\n","import React from 'react'\nimport Progress from './Progress'\nimport PropTypes from 'prop-types'\n\nexport default class ProgressArray extends React.Component {\n  render() {\n    return (\n      <div style={styles.progressArr}>\n        {this.props.length.map((i, index) =>\n          <Progress\n            key={index}\n            width={1 / this.props.length.length}\n            next={this.props.next}\n            defaultInterval={this.props.defaultInterval}\n            videoDuration={this.props.videoDuration}\n            currentStory={this.props.currentStory}\n            active={i === this.props.progress.id ? 1 : (i < this.props.progress.id ? 2 : 0)}\n            pause={this.props.pause}\n            bufferAction={this.props.bufferAction}\n          />)}\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  progressArr: {\n    display: 'flex',\n    justifyContent: 'center',\n    maxWidth: '100%',\n    flexWrap: 'row',\n    position: 'absolute',\n    width: '98%',\n    padding: 5,\n    paddingTop: 7,\n    alignSelf: 'center',\n    zIndex: 99,\n    filter: 'drop-shadow(0 1px 10px #000)'\n  }\n}\n\nProgressArray.propTypes = {\n  length: PropTypes.array,\n  progress: PropTypes.object,\n  pause: PropTypes.bool,\n  next: PropTypes.func,\n  currentStory: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  defaultInterval: PropTypes.number,\n  videoDuration: PropTypes.number,\n  bufferAction: PropTypes.bool\n}\n","import React from 'react'\nimport Story from './Story'\nimport ProgressArray from './ProgressArray'\nimport PropTypes from 'prop-types'\n\nclass Container extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentId: 0,\n      pause: true,\n      count: 0,\n      storiesDone: 0\n    }\n    this.defaultInterval = props.defaultInterval\n    this.width = props.width\n    this.height = props.height\n  }\n\n  componentDidMount() {\n    document.addEventListener('keyup', this.handleKeyup)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keyup', this.handleKeyup)\n  }\n\n  pause = (action, bufferAction) => {\n    this.setState({ pause: action === 'pause', bufferAction })\n  }\n\n  previous = () => {\n    if (this.state.currentId > 0) {\n      this.setState({\n        currentId: this.state.currentId - 1,\n        count: 0\n      })\n    }\n  }\n\n  next = () => {\n    if (this.props.loop) {\n      this.updateNextStoryIdForLoop()\n    } else {\n      this.updateNextStoryId()\n    }\n  };\n\n  handleKeyup = (event) => {\n    // Keyboard left arrow\n    if (event.keyCode === 37) {\n      event.preventDefault()\n      this.previous()\n    }\n    // Keyboard right arrow\n    if (event.keyCode === 39) {\n      event.preventDefault()\n      this.next()\n    }\n  }\n\n  updateNextStoryIdForLoop = () => {\n    this.setState({\n      currentId: (this.state.currentId + 1) % this.props.stories.length,\n      count: 0\n    })\n  }\n\n  updateNextStoryId = () => {\n    if (this.state.currentId < this.props.stories.length - 1) {\n      this.setState({\n        currentId: this.state.currentId + 1,\n        count: 0\n      })\n    }\n  }\n\n  debouncePause = (e) => {\n    e.preventDefault()\n    this.mousedownId = setTimeout(() => {\n      this.pause('pause')\n    }, 200)\n  }\n\n  mouseUp = (e, type) => {\n    e.preventDefault()\n    this.mousedownId && clearTimeout(this.mousedownId)\n    if (this.state.pause) {\n      this.pause('play')\n    } else {\n      type === 'next' ? this.next() : this.previous()\n    }\n  }\n\n  getVideoDuration = duration => {\n    this.setState({ videoDuration: duration })\n  }\n\n  toggleMore = show => {\n    if (this.story) {\n      this.story.toggleMore(show)\n      return true\n    } else return false\n  }\n\n  render() {\n    return (\n      <div style={{ ...styles.container, ...{ maxWidth: this.width, maxHeight: this.height } }}>\n        <ProgressArray\n          next={this.next}\n          pause={this.state.pause}\n          bufferAction={this.state.bufferAction}\n          videoDuration={this.state.videoDuration}\n          length={this.props.stories.map((_, i) => i)}\n          defaultInterval={this.defaultInterval}\n          currentStory={this.props.stories[this.state.currentId]}\n          progress={{ id: this.state.currentId, completed: this.state.count / ((this.props.stories[this.state.currentId] && this.props.stories[this.state.currentId].duration) || this.defaultInterval) }}\n        />\n        <Story\n          ref={s => this.story = s}\n          action={this.pause}\n          bufferAction={this.state.bufferAction}\n          height={this.height}\n          playState={this.state.pause}\n          width={this.width}\n          story={this.props.stories[this.state.currentId]}\n          loader={this.props.loader}\n          header={this.props.header}\n          getVideoDuration={this.getVideoDuration}\n          storyContentStyles={this.props.storyContentStyles}\n        />\n        <div style={styles.overlay}>\n          <div style={{ width: '50%', zIndex: 999 }} onTouchStart={this.debouncePause} onTouchEnd={e => this.mouseUp(e, 'previous')} onMouseDown={this.debouncePause} onMouseUp={(e) => this.mouseUp(e, 'previous')} />\n          <div style={{ width: '50%', zIndex: 999 }} onTouchStart={this.debouncePause} onTouchEnd={e => this.mouseUp(e, 'next')} onMouseDown={this.debouncePause} onMouseUp={(e) => this.mouseUp(e, 'next')} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    background: '#111',\n    position: 'relative',\n    width: '100vw',\n    height: '100vh'\n  },\n  overlay: {\n    position: 'absolute',\n    height: 450,\n    width: '100%',\n    display: 'flex',\n    top: 100\n  },\n  left: {\n  },\n  right: {\n  }\n}\n\nContainer.propTypes = {\n  stories: PropTypes.array,\n  defaultInterval: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  loader: PropTypes.element,\n  header: PropTypes.element,\n  storyContentStyles: PropTypes.object,\n  loop: PropTypes.bool\n}\n\nContainer.defaultProps = {\n  defaultInterval: 4000,\n  width: 360,\n  height: 640\n}\n\nexport default Container\n","import React, { Component } from 'react'\nimport Container from './components/Container'\nimport PropTypes from 'prop-types'\n\nexport default class ReactInstaStories extends Component {\n  constructor(props) {\n    super(props)\n    this.pause = this.pause.bind(this)\n    this.play = this.play.bind(this)\n    this.previous = this.previous.bind(this)\n    this.next = this.next.bind(this)\n  }\n\n  componentDidMount() {\n    this.props.stories.map(s => {\n      let i = new Image()\n      if (!(typeof s === 'object' && s.type === 'video')) {\n        i.src = typeof s === 'object' ? s.url : s\n      }\n    })\n  }\n\n  pause() {\n    if (this.c) {\n      this.c.pause('pause')\n      return true\n    } else return false\n  }\n\n  play() {\n    if (this.c) {\n      this.c.pause('play')\n      return true\n    } else return false\n  }\n\n  previous() {\n    if (this.c) {\n      this.c.previous()\n      return true\n    } else return false\n  }\n\n  next() {\n    if (this.c) {\n      this.c.next()\n      return true\n    } else return false\n  }\n\n  toggleSeeMore(show) {\n    if (this.c) {\n      return this.c.toggleMore(show)\n    } else return false\n  }\n\n  render() {\n    return (\n      <div>\n        <Container\n          ref={c => this.c = c}\n          stories={this.props.stories}\n          defaultInterval={this.props.defaultInterval}\n          width={this.props.width}\n          height={this.props.height}\n          loader={this.props.loader}\n          header={this.props.header}\n          storyContentStyles={this.props.storyStyles}\n          loop={this.props.loop}\n        />\n      </div>\n    )\n  }\n}\n\nReactInstaStories.defaultProps = {\n  loop: false\n}\n\nReactInstaStories.propTypes = {\n  stories: PropTypes.array,\n  defaultInterval: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  loader: PropTypes.element,\n  header: PropTypes.element,\n  storyStyles: PropTypes.object,\n  loop: PropTypes.bool\n}\n"],"names":["Header","image","authorName","timeago","React","styles","main","img","backgroundImage","text","propTypes","PropTypes","string","Body","profileImage","heading","subheading","globalStyle","bodyHeading","bodySubheading","readMore","blank","readMoreButton","seeMore","props","showContent","seeMoreContent","toggleMore","action","style","seeMoreExpanded","seeMoreClose","seemoreIcon","up","seemoreText","object","bool","func","Story","setState","showMore","show","imageLoaded","pauseId","clearTimeout","loaded","e","log","videoLoaded","getVideoDuration","vid","duration","play","then","catch","state","getStoryContent","bind","prevProps","story","setTimeout","addEventListener","playState","bufferAction","pause","console","source","babelHelpers.typeof","url","storyContentStyles","storyContent","type","display","r","header","height","width","maxWidth","maxHeight","body","loading","loader","spinner","Component","oneOfType","number","element","ProgressWrapper","autoHide","progress","getProgressWrapperStyle","children","node","Progress","next","inner","active","getProgressStyle","current","currentStory","videoDuration","defaultInterval","PureComponent","animation","slidein","animationPlayState","ProgressArray","progressArr","length","map","i","index","id","array","Container","previous","currentId","loop","updateNextStoryIdForLoop","updateNextStoryId","handleKeyup","event","keyCode","preventDefault","stories","debouncePause","mousedownId","mouseUp","removeEventListener","container","_","completed","count","s","overlay","zIndex","defaultProps","ReactInstaStories","Image","src","c","storyStyles"],"mappings":"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"}