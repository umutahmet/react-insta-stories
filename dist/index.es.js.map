{"version":3,"file":"index.es.js","sources":["../src/components/Header.js","../node_modules/style-inject/dist/style-inject.es.js","../src/up.png","../src/components/SeeMore.js","../src/components/Story.js","../src/components/ProgressWrapper.js","../src/components/Progress.js","../src/components/ProgressArray.js","../src/components/Container.js","../src/index.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Header = ({ profileImage, heading, subheading }) =>\n  <div style={styles.main}>\n    {profileImage && <div style={{...styles.img, backgroundImage: `url(${profileImage})`}} />}\n    <span style={styles.text}>\n      <p style={styles.heading}>{heading}</p>\n      <p style={styles.subheading}>{subheading}</p>\n    </span>\n  </div>\n\nconst styles = {\n  main: {\n    display: 'flex'\n  },\n  img: {\n    width: 60,\n    height: 60,\n    minHeight: 'auto',\n    borderRadius: 60,\n    marginRight: 10,\n    filter: 'drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))',\n    border: '2px solid rgba(255, 255, 255, 0.8)',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center center'\n  },\n  text: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '80%'\n  },\n  heading: {\n    fontSize: '1.5rem',\n    fontFamily: `\"Abril Titling Bold\", \"Book Antiqua\", Palatino, \"Palatino Linotype\", \"Palatino LT STD\", Georgia, serif`,\n    color: 'rgba(255, 255, 255, 0.9)'\n  },\n  subheading: {\n    fontSize: '0.9rem',\n    color: 'rgba(255, 255, 255, 0.9)'\n  }\n}\n\nHeader.propTypes = {\n  heading: PropTypes.string,\n  subheading: PropTypes.string,\n  profileImage: PropTypes.string\n}\n\nexport default Header\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAfDSURBVHic7Z1prB5THMaf6a1agsYSe621tSJC8EEIUUWRtraKShNEbIktoQRRW2JJfEJi+dQPEkttIWiRoBK0jfWiVWoXxa1a7+1t+/PhTNPXa/7zztx3zjnTa37JpM29d87znGXOnDnzP2ekhoaGhoaGhoaGhoaGhqAksQ3kAWwt6XBJ+0vaNz3GpL/equ3PV6T/fi1pcXp8KuntJEn6/LsdGrWqAKBH0pGSJkqaIOlgST1dJrtG0iJJL0uaK+mNJEnWdpnm8AFIgAnAbKAP//SlWhOAWjXAoKQFPxVYFKDQLRYCk/93FQGcDnwQseDbeQ84NXa5eAc4DFgQubDzWAAcGrJMglx6wCaSbpF0haSNSp7+uaTXJC2RtDQ9fpf0h6TB9G82krS5pC0kjZW0d3ocLWnPknqDku6RdFOSJAMlz60fwFjK9fOrgXnARUDZwrP0LwZeAdaU8LGwCv2o4Pr6XwtmeClwBbCjRz87AVcCnxf0tAKY6suPV4BrgLUFMtkLnAOMDOhtJDAD+KSAv7XAVaG8dQ0wArivQMaWp4UQbQiIGwrPAH4q4PdeYEQsr4VIM/Rwgcw8hseupiy4rmlOAd8PxmwwHQHu75CBFcDpsX1a4K6G3zvk4b7YPjMBrutg/DNgXGyfnQAOoPNN+prYPv8FcAb5N9xFwPaxfRYF2AF4Nyc/a6nLkzOwB65rsXgN2DK2z7IAo4HXc/LVB+wW2+TGuAcWi/nAZlFNdgGwGfBmTv4WAKNiGrwpx9wSYLto5ioC1x0tzcnnDbGM7Q8MGKZWAmOjGPMAsHeapywGgP1CG0pwfbvFmUENBQCYlpPfeaHNTMkxMzuomYAAj+Tk+5RQJkbg5m+yWI57kT4sAbbBnrZ4jxBPybhXeBbnezcQGeDCnPyfHMKANSzrpe6TVRUA9ACfGmXwhm/xA3Nqf4ZX8Ww/xwDHRNA9N6ccxvsUvscQ/QwX0xMM4FTcEHCAwNMCuPcJy4yyuNuXaA/wvSEadHIKNwprfQYZACYH9nCtURbf4KMrBo41BFcDO1UuaPtoL/wolQDsgv2O+SgfgncaYs9VLmZ7mJ5WuMVqYHpAPy8YPm7zIfaWIRZk6Ind8tsJdiVgD0nnVy20FXbL271SsWz9Ti2/nSBXArCXoT9IlVPw2P3/V5WJ2NpFW347Qa4E4FtD/+gi5xe9W1uzfdVeam0AUyQ9Ksmac18tF36exShJjwWoBKsMCs2QdlsBHxc8vzRpF/KE7MIfkDRF0uT0/1mMkjTHc3dklUF1U9TAXOMy8xLhQOc+vx+Y1PL3J6U/s/B2T8Cepn6hSpEPDZGDKhNZr9Wpzx8EpmWcNy39nYWXewJwiKH3fpUiXxoiu1YmovItP+P8SQS+EoDdDa1lVYr8YohUNvdfsPBPLJBO0ErAvSPI4ueqNITdJVQSEVBV4bekF6wSgFGGRnVrC4BVhkjZxRZZaXfq81cxhJs9LljM+z0BF5qTRX+3abeKeOmC6Nzy/6ZEy89I/8Q0DYuurwRgWyPtn7pJt13EugkPOTKsYOGfUIF3r5WAiwzM4otuvbeKfGSIDGkYSrFu57QK/Z+G3Y1CF90RgYahLxoi/xmPF0grSMvP0D0BD1cCcLaR3vNFzi86FbHE+Pk+Bc+X5G5Ykm6Wvf3AoKSzkyR5sUy6RUjTnK71Kyvb6ZF0M+VHdlYZWGX2L4pWwGLj56XmO9JlnxMlZc2iDkqaliTJU2XSLKn/pKSzlF0JX0k6LkmSVSWTtcrAKrPyUPF0NO7pcVlLOgO4mc8g4LZIaL0nLGOI7zXocjq6qMjm2DexIQXh4qKOe3H98vGVmS2uf3yq3QvsMMQ09jXKpJ+qw/Lx8EoS2JUuxvndghuijun8l+b5YV5JpmK3GWJhI4NrBPCqUSazfIjVIiylLhAhLKU2gVl1gNCBWanoHYbot8RcKxUYYBPgB6MsbvcpPM4QBTjPm3DNAC7IKQe/y5XID08PGqAbA2KGp6cGJuXU/qXeDUQGuDwn/5XPYVkm3jEM/AbsEsREBHBTz38aefcaI9VuJG+R3pxgRgKCWxn6TE6+wyzSazH0bI6ZK4OaCQBwdU5+n45haCz2/Ho/cHBwU54ADsV+gfQXsfaWI3+rgq+BnaMYqxBgDPaMJ8TaqiA1NwJ4Ocfcx2zA64aB7XDr3yzmEntlaNpCfs4xOVy3q1lOXa5wXHBs3p6cw23DpjWEGvMXBbgsxzAMry3L6vnACczqYLwf9yRZu50HceP8meSHrwDcGNurSZqJhzpkADbcbSsfqGPj+Q9pS+rEn7grJto0Ni6ucxZuLN+JmbF8DgmarYvjg9vPoehnSeq4efcvBN4CoXJwkQ/zC2YY1m9ffwkVjJqA8cCllN++/nW6iJgoSqgPOIyUNFPS9ZI2LXn6j5LelFuN2Cv3aao+SSuTJFmZpj9a0mhJW8tFqo2XNE7SEZLKPn/8LelWSXclSWItgd0wwXUBj5dohaGZzf8hwgMXLh7z60ntLGRD/VBDNwATsYObQvAKcFzscogOLshpJm63Xd8sTrVqMZFWq6c63NTuUfL3KcOXJM2v06cMa1UB7eDeJRwmaa+WY2e5D3muOyT3Ic91x3dyn75ad7xT5495NjQ0NDQ0NDQ0NDQ0NATmHxLcnGvnnDNMAAAAAElFTkSuQmCC\"","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './../styles.css'\nimport up from './../up.png'\n\nexport default function seeMore(props) {\n  return (\n    props.showContent\n      ? <div className={style.seeMoreExpanded}>\n        {props.seeMoreContent}\n        <div onClick={() => {\n          props.toggleMore(false)\n          props.action('play')\n        }} className={style.seeMoreClose}><span>âœ•</span></div>\n      </div>\n      : <div onClick={() => {\n        props.toggleMore(true)\n        props.action('pause')\n      }} className={style.seeMore}>\n        <span className={style.seemoreIcon}><img src={up} /></span>\n        <span className={style.seemoreText}>Read more</span>\n      </div>\n  )\n}\n\nseeMore.propTypes = {\n  seeMoreContent: PropTypes.object,\n  showContent: PropTypes.bool,\n  action: PropTypes.func,\n  toggleMore: PropTypes.func\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Header from './Header'\nimport SeeMore from './SeeMore'\nimport globalStyle from './../styles.css'\n\nexport default class Story extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loaded: false\n    }\n    this.getStoryContent = this.getStoryContent.bind(this)\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.story !== prevProps.story) {\n      this.pauseId && clearTimeout(this.pauseId)\n      this.pauseId = setTimeout(() => {\n        this.setState({loaded: false})\n      }, 300)\n      this.props.action('pause', true)\n      this.vid && this.vid.addEventListener('waiting', () => {\n        this.props.action('pause', true)\n      })\n      this.vid && this.vid.addEventListener('playing', () => {\n        this.props.action('play', true)\n      })\n    }\n    if (this.vid && (this.props.playState !== prevProps.playState) && !this.props.bufferAction) {\n      if (this.props.playState) {\n        this.vid.pause()\n      } else {\n        this.vid.play().catch(e => console.log(e))\n      }\n    }\n  }\n  toggleMore = show => {\n    this.setState({ showMore: show })\n  }\n  imageLoaded = () => {\n    try {\n      if (this.pauseId) clearTimeout(this.pauseId)\n      this.setState({loaded: true})\n      this.props.action('play', true)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  videoLoaded = () => {\n    try {\n      this.props.getVideoDuration(this.vid.duration)\n      this.vid && this.vid.play().then(() => {\n        this.imageLoaded()\n      }).catch(e => {\n        this.props.action('pause')\n        console.log(e)\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n  getStoryContent() {\n    let source = typeof this.props.story === 'object' ? this.props.story.url : this.props.story\n    let storyContentStyles = this.props.story.styles || this.props.storyContentStyles || styles.storyContent\n    let type = this.props.story.type === 'video' ? 'video' : 'image'\n    if (type === 'image') {\n      return (<div style={{\n        ...storyContentStyles,\n        width: '100%',\n        height: '100%',\n        backgroundImage: `url(${source})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center center'\n      }}>\n        <img\n          style={{display: 'none'}}\n          src={source}\n          onLoad={this.imageLoaded}\n        />\n      </div>\n      )\n    }\n    return (type === 'video' ? <video ref={r => { this.vid = r }} style={storyContentStyles} src={source} controls={false} onLoadedData={this.videoLoaded} autoPlay playsInline /> : null)\n  }\n  render() {\n    let isHeader = typeof this.props.story === 'object' && this.props.story.header\n    const headerStyles = {\n      position: 'absolute',\n      left: 12,\n      bottom: 20,\n      zIndex: 19\n    }\n    return (\n      <div style={{...styles.story, width: this.props.width, height: this.props.height}}>\n        {this.getStoryContent()}\n        {isHeader && <div style={headerStyles}>\n          {this.props.header ? () => this.props.header(this.props.story.header) : <Header heading={this.props.story.header.heading} subheading={this.props.story.header.subheading} profileImage={this.props.story.header.profileImage} />}\n        </div>}\n        {!this.state.loaded && <div style={{width: this.props.width, height: this.props.height, position: 'absolute', left: 0, top: 0, background: 'rgba(0, 0, 0, 0.9)', zIndex: 9, display: 'flex', justifyContent: 'center', alignItems: 'center', color: '#ccc'}}>{this.props.loader || <div className={globalStyle.spinner} />}</div>}\n        {this.props.story.seeMore &&\n        <div style={{position: 'absolute', margin: 'auto', bottom: 0, zIndex: 9999, width: '100%'}}>\n          <SeeMore action={this.props.action} toggleMore={this.toggleMore} showContent={this.state.showMore} seeMoreContent={this.props.story.seeMore} />\n        </div>}\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  story: {\n    display: 'flex',\n    position: 'relative',\n    overflow: 'hidden'\n  },\n  storyContent: {\n    width: 'auto',\n    maxWidth: '100%',\n    maxHeight: '100%',\n    margin: 'auto'\n  }\n}\n\nStory.propTypes = {\n  story: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string\n  ]),\n  height: PropTypes.number,\n  width: PropTypes.number,\n  action: PropTypes.func,\n  loader: PropTypes.element,\n  header: PropTypes.element,\n  playState: PropTypes.bool,\n  getVideoDuration: PropTypes.func,\n  bufferAction: PropTypes.bool,\n  storyContentStyles: PropTypes.object\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './../styles.css'\n\nconst ProgressWrapper = (props) => (\n  <div className={style.autoHide} style={{ ...styles.progress, ...getProgressWrapperStyle(props) }}>\n    {props.children}\n  </div>\n)\n\nconst getProgressWrapperStyle = ({ width, pause, bufferAction }) => ({\n  width: `${width * 100}%`,\n  opacity: pause && !bufferAction ? 0 : 1\n})\n\nconst styles = {\n  progress: {\n    height: 2,\n    maxWidth: '100%',\n    background: '#555',\n    margin: 2\n  }\n}\n\nProgressWrapper.propTypes = {\n  children: PropTypes.node\n}\n\nexport default ProgressWrapper\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './../styles.css'\nimport ProgressWrapper from './ProgressWrapper'\n\nexport default class Progress extends React.PureComponent {\n  componentDidMount() {\n    if (this.inner) {\n      this.inner.addEventListener('webkitAnimationEnd', this.next, false)\n      this.inner.addEventListener('animationend', this.next, false)\n      this.inner.addEventListener('oanimationend', this.next, false)\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    let current = props.currentStory\n    if (typeof current === 'object') {\n      if (current.type && props.videoDuration) return { duration: props.videoDuration * 1000 }\n      if (current.duration) return { duration: current.duration }\n      return { duration: props.defaultInterval }\n    } else {\n      return { duration: props.defaultInterval }\n    }\n  }\n\n  next = () => {\n    this.props.next()\n  }\n\n  render() {\n    const { width, pause, bufferAction, active } = this.props\n    return (\n      <ProgressWrapper width={width} pause={pause} bufferAction={bufferAction}>\n        <div\n          ref={r => { this.inner = r }}\n          className={style.inner}\n          style={getProgressStyle({ active, pause, duration: this.state.duration })} />\n      </ProgressWrapper>\n    )\n  }\n}\n\nconst animation = (duration) => `${duration}ms linear 0ms ${style.slidein}`\nconst animationPlayState = (pause) => pause ? 'paused' : 'running'\n\nconst getProgressStyle = ({ active, duration, pause }) => {\n  switch (active) {\n    case 2:\n      return { width: '100%' }\n    case 1:\n      return { animation: animation(duration), animationPlayState: animationPlayState(pause) }\n    case 0:\n      return { width: 0 }\n    default:\n      return { width: 0 }\n  }\n}\n\nProgress.propTypes = {\n  width: PropTypes.number,\n  defaultInterval: PropTypes.number,\n  pause: PropTypes.bool,\n  next: PropTypes.func,\n  active: PropTypes.number,\n  bufferAction: PropTypes.bool,\n  videoDuration: PropTypes.number,\n  currentStory: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n}\n","import React from 'react'\nimport Progress from './Progress'\nimport PropTypes from 'prop-types'\n\nexport default class ProgressArray extends React.Component {\n  render() {\n    return (\n      <div style={styles.progressArr}>\n        {this.props.length.map((i, index) =>\n          <Progress\n            key={index}\n            width={1 / this.props.length.length}\n            next={this.props.next}\n            defaultInterval={this.props.defaultInterval}\n            videoDuration={this.props.videoDuration}\n            currentStory={this.props.currentStory}\n            active={i === this.props.progress.id ? 1 : (i < this.props.progress.id ? 2 : 0)}\n            pause={this.props.pause}\n            bufferAction={this.props.bufferAction}\n          />)}\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  progressArr: {\n    display: 'flex',\n    justifyContent: 'center',\n    maxWidth: '100%',\n    flexWrap: 'row',\n    position: 'absolute',\n    width: '98%',\n    padding: 5,\n    paddingTop: 7,\n    alignSelf: 'center',\n    zIndex: 99,\n    filter: 'drop-shadow(0 1px 8px #000)'\n  }\n}\n\nProgressArray.propTypes = {\n  length: PropTypes.array,\n  progress: PropTypes.object,\n  pause: PropTypes.bool,\n  next: PropTypes.func,\n  currentStory: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]),\n  defaultInterval: PropTypes.number,\n  videoDuration: PropTypes.number,\n  bufferAction: PropTypes.bool\n}\n","import React from 'react'\nimport Story from './Story'\nimport ProgressArray from './ProgressArray'\nimport PropTypes from 'prop-types'\n\nclass Container extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentId: 0,\n      pause: true,\n      count: 0,\n      storiesDone: 0\n    }\n    this.defaultInterval = props.defaultInterval\n    this.width = props.width\n    this.height = props.height\n  }\n\n  componentDidMount() {\n    document.addEventListener('keyup', this.handleKeyup)\n  }\n\n  componentWillUnmount() {\n    document.addEventListener('keyup', this.handleKeyup)\n  }\n\n  pause = (action, bufferAction) => {\n    this.setState({ pause: action === 'pause', bufferAction })\n  }\n\n  previous = () => {\n    if (this.state.currentId > 0) {\n      this.setState({\n        currentId: this.state.currentId - 1,\n        count: 0\n      })\n    }\n  }\n\n  next = () => {\n    if (this.props.loop) {\n      this.updateNextStoryIdForLoop()\n    } else {\n      this.updateNextStoryId()\n    }\n  };\n\n  handleKeyup = (event) => {\n    // Keyboard left arrow\n    if (event.keyCode === 37) {\n      event.preventDefault()\n      this.previous()\n    }\n    // Keyboard right arrow\n    if (event.keyCode === 39) {\n      event.preventDefault()\n      this.next()\n    }\n  }\n\n  updateNextStoryIdForLoop = () => {\n    this.setState({\n      currentId: (this.state.currentId + 1) % this.props.stories.length,\n      count: 0\n    })\n  }\n\n  updateNextStoryId = () => {\n    if (this.state.currentId < this.props.stories.length - 1) {\n      this.setState({\n        currentId: this.state.currentId + 1,\n        count: 0\n      })\n    }\n  }\n\n  debouncePause = (e) => {\n    e.preventDefault()\n    this.mousedownId = setTimeout(() => {\n      this.pause('pause')\n    }, 200)\n  }\n\n  mouseUp = (e, type) => {\n    e.preventDefault()\n    this.mousedownId && clearTimeout(this.mousedownId)\n    if (this.state.pause) {\n      this.pause('play')\n    } else {\n      type === 'next' ? this.next() : this.previous()\n    }\n  }\n\n  getVideoDuration = duration => {\n    this.setState({ videoDuration: duration })\n  }\n\n  toggleMore = show => {\n    if (this.story) {\n      this.story.toggleMore(show)\n      return true\n    } else return false\n  }\n\n  render() {\n    return (\n      <div style={{ ...styles.container, ...{ width: this.width, height: this.height } }}>\n        <ProgressArray\n          next={this.next}\n          pause={this.state.pause}\n          bufferAction={this.state.bufferAction}\n          videoDuration={this.state.videoDuration}\n          length={this.props.stories.map((_, i) => i)}\n          defaultInterval={this.defaultInterval}\n          currentStory={this.props.stories[this.state.currentId]}\n          progress={{ id: this.state.currentId, completed: this.state.count / ((this.props.stories[this.state.currentId] && this.props.stories[this.state.currentId].duration) || this.defaultInterval) }}\n        />\n        <Story\n          ref={s => this.story = s}\n          action={this.pause}\n          bufferAction={this.state.bufferAction}\n          height={this.height}\n          playState={this.state.pause}\n          width={this.width}\n          story={this.props.stories[this.state.currentId]}\n          loader={this.props.loader}\n          header={this.props.header}\n          getVideoDuration={this.getVideoDuration}\n          storyContentStyles={this.props.storyContentStyles}\n        />\n        <div style={styles.overlay}>\n          <div style={{ width: '50%', zIndex: 999 }} onTouchStart={this.debouncePause} onTouchEnd={e => this.mouseUp(e, 'previous')} onMouseDown={this.debouncePause} onMouseUp={(e) => this.mouseUp(e, 'previous')} />\n          <div style={{ width: '50%', zIndex: 999 }} onTouchStart={this.debouncePause} onTouchEnd={e => this.mouseUp(e, 'next')} onMouseDown={this.debouncePause} onMouseUp={(e) => this.mouseUp(e, 'next')} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    background: '#111',\n    position: 'relative'\n  },\n  overlay: {\n    position: 'absolute',\n    height: 450,\n    width: 'inherit',\n    display: 'flex'\n  },\n  left: {\n  },\n  right: {\n  }\n}\n\nContainer.propTypes = {\n  stories: PropTypes.array,\n  defaultInterval: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  loader: PropTypes.element,\n  header: PropTypes.element,\n  storyContentStyles: PropTypes.object,\n  loop: PropTypes.bool\n}\n\nContainer.defaultProps = {\n  defaultInterval: 4000,\n  width: 360,\n  height: 640\n}\n\nexport default Container\n","import React, { Component } from 'react'\nimport Container from './components/Container'\nimport PropTypes from 'prop-types'\n\nexport default class ReactInstaStories extends Component {\n  constructor(props) {\n    super(props)\n    this.pause = this.pause.bind(this)\n    this.play = this.play.bind(this)\n    this.previous = this.previous.bind(this)\n    this.next = this.next.bind(this)\n  }\n\n  componentDidMount() {\n    this.props.stories.map(s => {\n      let i = new Image()\n      if (!(typeof s === 'object' && s.type === 'video')) {\n        i.src = typeof s === 'object' ? s.url : s\n      }\n    })\n  }\n\n  pause() {\n    if (this.c) {\n      this.c.pause('pause')\n      return true\n    } else return false\n  }\n\n  play() {\n    if (this.c) {\n      this.c.pause('play')\n      return true\n    } else return false\n  }\n\n  previous() {\n    if (this.c) {\n      this.c.previous()\n      return true\n    } else return false\n  }\n\n  next() {\n    if (this.c) {\n      this.c.next()\n      return true\n    } else return false\n  }\n\n  toggleSeeMore(show) {\n    if (this.c) {\n      return this.c.toggleMore(show)\n    } else return false\n  }\n\n  render() {\n    return (\n      <div>\n        <Container\n          ref={c => this.c = c}\n          stories={this.props.stories}\n          defaultInterval={this.props.defaultInterval}\n          width={this.props.width}\n          height={this.props.height}\n          loader={this.props.loader}\n          header={this.props.header}\n          storyContentStyles={this.props.storyStyles}\n          loop={this.props.loop}\n        />\n      </div>\n    )\n  }\n}\n\nReactInstaStories.defaultProps = {\n  loop: false\n}\n\nReactInstaStories.propTypes = {\n  stories: PropTypes.array,\n  defaultInterval: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  loader: PropTypes.element,\n  header: PropTypes.element,\n  storyStyles: PropTypes.object,\n  loop: PropTypes.bool\n}\n"],"names":["Header","profileImage","heading","subheading","styles","main","img","backgroundImage","text","propTypes","PropTypes","string","seeMore","props","showContent","style","seeMoreExpanded","seeMoreContent","toggleMore","action","seeMoreClose","seemoreIcon","up","seemoreText","object","bool","func","Story","setState","showMore","show","imageLoaded","pauseId","clearTimeout","loaded","e","log","videoLoaded","getVideoDuration","vid","duration","play","then","catch","state","getStoryContent","bind","prevProps","story","setTimeout","addEventListener","playState","bufferAction","pause","console","source","babelHelpers.typeof","url","storyContentStyles","storyContent","type","display","r","isHeader","header","headerStyles","width","height","position","left","top","background","zIndex","justifyContent","alignItems","color","loader","globalStyle","spinner","margin","bottom","SeeMore","React","Component","oneOfType","number","element","ProgressWrapper","autoHide","progress","getProgressWrapperStyle","children","node","Progress","next","inner","active","getProgressStyle","current","currentStory","videoDuration","defaultInterval","PureComponent","animation","slidein","animationPlayState","ProgressArray","progressArr","length","map","i","index","id","array","Container","previous","currentId","loop","updateNextStoryIdForLoop","updateNextStoryId","handleKeyup","event","keyCode","preventDefault","stories","debouncePause","mousedownId","mouseUp","container","_","completed","count","s","overlay","defaultProps","ReactInstaStories","Image","src","c","storyStyles"],"mappings":"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"}